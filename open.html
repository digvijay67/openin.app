<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="open.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" ></script>
    
    
    <link rel="website icon" type="png" href="cs1586-APILayerLogoUpdate2022-LJ_v2-HighRes.png" height="1000px" width="600px">
<title>APILayer</title>
</head>

<body> 
    <section class="login-container">
        <div class="login-bg">
            <h1>Board</h1>
        </div>
        
    </div>
        <article class="form-container">
          
          <div  class="intro">
            <img src="cs1586-APILayerLogoUpdate2022-LJ_v2-HighRes.png" class="logocs">
          
            <h1>Sign in</h1>
            <p>Sign in to your account</p>
            <P>Sign up in..</P>
          </div>
          <div class="socials">
            
            <a class="social-btn" href="" id="g-btn"><p>Welcome</p></a>
            
            <a class="social-btn" href="" id="a-btn"></a>
          </div>
<form action="" onsubmit="return false;" class="form">
    <div class="email-input">
     
      <span id="seperator"></span>
      <div class="input-container">
        <p class="sub-title">Email</p>
        <input type="email" name="usermail" id="useremail" />
      </div>
    </div>

    <div class="email-input">
     
      <span id="seperator"></span>
      <div class="input-container">
        <p class="sub-title">password</p>
        <input type="password" name="userpass" id="userpassword" />
        
      </div>
    
    </div>
      <a  href="" class="forget">Forget Password</a>
    <a href="openapp.html"><button type="button" id="submit">Sign in</button></a>
    <p>Donâ€™t have an account? <a href="app.html">Register here</a></p>
    
  </form>

  
</article>
<article class="login-side-bg"></article>
</section>
<script type="module">
  
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";
  

  const firebaseConfig = {
      apiKey: "AIzaSyAsek2QnZbuZrkKiuOzNGEQKBieTegDIPk",
      authDomain: "digvijay-protfolio.firebaseapp.com",
      databaseURL: "https://digvijay-protfolio-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "digvijay-protfolio",
      storageBucket: "digvijay-protfolio.appspot.com",
      messagingSenderId: "285314638822",
      appId: "1:285314638822:web:d27c2354f61a65270f6c27",
      measurementId: "G-ZXX926ED93"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const auth = getAuth();
  console.log(app);

  

  
  //----- Login code start	  
  document.getElementById("submit").addEventListener("click", function() {
    var email =  document.getElementById("useremail").value;
    var password = document.getElementById("userpassword").value;

    signInWithEmailAndPassword(auth, email, password)
    .then((userCredential) => {
      // Signed in 
      const user = userCredential.user;
      console.log(user);
      alert(password.email+" Login successfully!!!");
     // document.getElementById('logout').style.display = 'block';
      // ...
    })
    .catch((error) => {
      const errorCode = error.code;
      const errorMessage = error.message;
      console.log(errorMessage);
      alert(errorMessage);
    });		  		  
  });
  //----- End

  //----- Logout code start	  
  document.getElementById("logout").addEventListener("click", function() {
    signOut(auth).then(() => {
      // Sign-out successful.
      console.log('Sign-out successful.');
      alert('Sign-out successful.');
      document.getElementById('logout').style.display = 'none';
    }).catch((error) => {
      // An error happened.
      console.log('An error happened.');
    });		  		  
  });
  //----- End
  document.getElementById("logout").addEventListener("click", function() {
		  signOut(auth).then(() => {
			  // Sign-out successful.
			  console.log('Sign-out successful.');
			  alert('Sign-out successful.');
			  document.getElementById('logout').style.display = 'none';
			}).catch((error) => {
			  // An error happened.
			  console.log('An error happened.');
			});		  		  
	  });
    </script>

</body>